<div class="container-fluid">

  <div ng-show="view ==='list'">

  <div class="row">
    <div class="col-md-8 col-md-offset-1">

      <div class="panel panel-default" >
          <div class="panel-heading"><h5>Valves List</h5></div>
        <div class="panel-body panel-padding" >
          <div class="pull-right">
            <a class="btn btn-default btn-sm btn-yellow" data-target="#mpiDialog" data-toggle="modal" ng-click="newUser()">
              <i class="fa fa-plus"></i> New Valve
            </a>
          </div>

          <table class="table table-striped" data-info="true" data-ordering="true" data-paging="true" data-searching="true" id="usersTable">
            <thead>
              <th>Type</th>
              <th>Id</th>
              <th>Info</th>
              <th>Status</th>
            </thead>
            <tbody>
              <tr ng-repeat="item in valvesList">
                <td >
                  {{item.doc.typeId}}
                </td>
                <td >
                  {{item.doc.deviceId}}
                </td>
                <td>
                  {{item.doc.deviceInfo.model}}
                </td>
                <td>
                  <span ng-if="item.doc.active==true && !item.doc.issued" class="label label-success"  style="width: 100%;">Open</span>
                  <span ng-if="item.doc.active==false && !item.doc.issued" class="label label-default"  style="width: 100%;">Closed</span>
                  <span ng-if="item.doc.issued" class="label label-danger"  style="width: 100%;">Unavailable</span>
                </td>
              </tr>

            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
</div>

<!-- Start new user dialog -->
<div class="modal fade" id="mpiDialog" tabindex="-1" role="dialog" aria-labelledby="">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" id="myModalLabel">New Valve</h4>
      </div>
      <div class="modal-body">
        <form method="post" role="form" name="valveForm" novalidate>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group has-feedback">
                <label for="type" class="control-label">Type:</label>
                <input type="text" required min="1" maxlength="100" class="form-control" id="type" name="type" data-ng-model="type">
                <p data-ng-show="submitted && valveForm.type.$error.required" class="help-block">Required</p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group has-feedback">
                <label for="deviceID" class="control-label">Device ID:</label>
                <input type="text" required min="1" maxlength="100" class="form-control" id="deviceID" name="deviceID" data-ng-model="deviceID">
                <p data-ng-show="submitted && valveForm.deviceID.$error.required" class="help-block">Required</p>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group has-feedback">
                <label for="serialNumber" class="control-label">Serial Number:</label>
                <input type="text" required min="1" maxlength="100" class="form-control" id="serialNumber" name="serialNumber" data-ng-model="serialNumber">
                <p data-ng-show="submitted && valveForm.serialNumber.$error.required" class="help-block">Required</p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group has-feedback">
                <label for="manufacturer" class="control-label">Manufacturer:</label>
                <input type="text" required min="1" maxlength="100" class="form-control" id="manufacturer" name="manufacturer" data-ng-model="manufacturer">
                <p data-ng-show="submitted && valveForm.manufacturer.$error.required" class="help-block">Required</p>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group has-feedback">
                <label for="model" class="control-label">Model:</label>
                <input type="text" required min="1" maxlength="100" class="form-control" id="model" name="model" data-ng-model="model">
                <p data-ng-show="submitted && valveForm.model.$error.required" class="help-block">Required</p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group has-feedback">
                <label for="descriptiveLocation" class="control-label">Descriptive Location:</label>
                <input type="text" required min="1" maxlength="100" class="form-control" id="descriptiveLocation" name="descriptiveLocation" data-ng-model="descriptiveLocation">
                <p data-ng-show="submitted && valveForm.descriptiveLocation.$error.required" class="help-block">Required</p>
              </div>
            </div>
          </div>
          <div class="form-group has-feedback">
            <label for="info" class="control-label">Info:</label>
            <input type="text" required min="1" maxlength="200" class="form-control" id="info" name="info" data-ng-model="info">
            <p data-ng-show="submitted && valveForm.info.$error.required" class="help-block">Required</p>
          </div>

        </form>
        <br/>
        <br/>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-yellow" ng-click="submitted=true;saveValve();">Save</button>
      </div>
    </div>
  </div>
</div>
<!-- End New Userdialog -->
